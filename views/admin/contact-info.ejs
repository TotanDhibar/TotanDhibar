<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin.css">
</head>
<body class="admin-body">
  <%- include('../partials/admin-header') %>
  
  <div class="admin-container">
    <%- include('../partials/admin-sidebar') %>
    
    <main class="admin-main">
      <div class="admin-content">
        <h1><%= title %></h1>
        
        <% if (success) { %>
        <div class="alert alert-success">Contact information updated!</div>
        <% } %>
        
        <% if (errors && errors.length > 0) { %>
        <div class="alert alert-error">
          <ul>
            <% errors.forEach(function(e) { %>
            <li><%= e.msg %></li>
            <% }); %>
          </ul>
        </div>
        <% } %>
        
        <form method="POST" enctype="multipart/form-data" class="admin-form" style="max-width:700px;">
          <input type="hidden" name="uploadType" value="images">
          
          <h3>Company Information</h3>
          
          <div class="form-group">
            <label>Company Name *</label>
            <input type="text" name="company_name" value="<%= contactInfo ? contactInfo.company_name : '' %>" required>
          </div>
          
          <div class="form-group">
            <label>Company Logo</label>
            <% if (contactInfo && contactInfo.company_logo) { %>
            <div style="margin-bottom: 10px;">
              <img src="<%= contactInfo.company_logo %>" alt="Company Logo" style="max-width: 200px; max-height: 100px; border: 1px solid #ddd; padding: 5px;">
            </div>
            <% } %>
            <input type="file" name="company_logo" accept="image/*">
            <small>Upload a new logo image (JPEG, PNG, GIF)</small>
          </div>
          
          <div class="form-group">
            <label>Background Image</label>
            <% if (contactInfo && contactInfo.background_image) { %>
            <div style="margin-bottom: 10px;">
              <img src="<%= contactInfo.background_image %>" alt="Background Image" style="max-width: 300px; max-height: 150px; border: 1px solid #ddd; padding: 5px;">
            </div>
            <% } %>
            <input type="file" name="background_image" accept="image/*">
            <small>Upload a background image for the website (JPEG, PNG, GIF)</small>
          </div>

          <div class="form-group">
            <label>GST Number</label>
            <input type="text" name="gst_number" value="<%= contactInfo ? contactInfo.gst_number || '' : '' %>" placeholder="e.g., 22AAAAA0000A1Z5">
          </div>
          
          <h3>Contact Details</h3>
          
          <div class="form-group">
            <label>Phone</label>
            <input type="text" name="phone" value="<%= contactInfo ? contactInfo.phone || '' : '' %>" placeholder="+91-XXXXXXXXXX">
          </div>
          
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="<%= contactInfo ? contactInfo.email || '' : '' %>" placeholder="contact@example.com">
          </div>
          
          <div class="form-group">
            <label>Address</label>
            <textarea name="address" rows="3" placeholder="Street address, building name, etc."><%= contactInfo ? contactInfo.address || '' : '' %></textarea>
          </div>
          
          <div class="form-group">
            <label>Location (City, State, Country)</label>
            <input type="text" name="location" value="<%= contactInfo ? contactInfo.location || '' : '' %>" placeholder="e.g., Asansol, West Bengal, India">
          </div>
          
          <h3>Google Maps</h3>
          
          <div class="form-group">
            <label>Google Map Embed Code</label>
            <textarea name="google_map_embed" rows="4" placeholder="Paste your Google Maps iframe embed code here"><%= contactInfo ? contactInfo.google_map_embed || '' : '' %></textarea>
            <small>Go to Google Maps, find your location, click "Share" ‚Üí "Embed a map" ‚Üí Copy the HTML iframe code</small>
          </div>
          
          <h3>üìç GPS Location (Alternative to Embed Code)</h3>
          <p style="color: #666; margin-bottom: 15px;"><small>If you don't have an embed code, enter your GPS coordinates to display an interactive map on the contact page.</small></p>
          
          <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div class="form-group">
              <label>Latitude</label>
              <input type="number" step="any" name="gps_latitude" value="<%= contactInfo && contactInfo.gps_latitude ? contactInfo.gps_latitude : '' %>" placeholder="e.g., 23.6850" min="-90" max="90">
              <small>Range: -90 to 90</small>
            </div>
            
            <div class="form-group">
              <label>Longitude</label>
              <input type="number" step="any" name="gps_longitude" value="<%= contactInfo && contactInfo.gps_longitude ? contactInfo.gps_longitude : '' %>" placeholder="e.g., 86.9617" min="-180" max="180">
              <small>Range: -180 to 180</small>
            </div>
          </div>
          <small style="display: block; margin-bottom: 15px;">üí° <strong>Tip:</strong> Find your coordinates on <a href="https://www.google.com/maps" target="_blank" rel="noopener noreferrer">Google Maps</a> - right-click on your location and copy the coordinates.</small>
          
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
    </main>
  </div>
</body>
</html>
