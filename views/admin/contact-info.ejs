<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin.css">
</head>
<body class="admin-body">
  <%- include('../partials/admin-header') %>
  
  <div class="admin-container">
    <%- include('../partials/admin-sidebar') %>
    
    <main class="admin-main">
      <div class="admin-content">
        <h1><%= title %></h1>
        
        <% if (locals.success && success) { %>
        <div class="alert alert-success">Contact information updated!</div>
        <% } %>
        
        <% if (locals.errors && errors.length > 0) { %>
        <div class="alert alert-error">
          <ul>
            <% errors.forEach(e => { %>
            <li><%= e.msg %></li>
            <% }); %>
          </ul>
        </div>
        <% } %>
        
        <form method="POST" enctype="multipart/form-data" class="admin-form" style="max-width:700px;">
          <input type="hidden" name="uploadType" value="images">
          <div class="form-group">
            <label>Company Name *</label>
            <input type="text" name="company_name" value="<%= contactInfo ? contactInfo.company_name : '' %>" required>
          </div>
          
          <div class="form-group">
            <label>Company Logo</label>
            <% if (contactInfo && contactInfo.company_logo) { %>
            <div style="margin-bottom: 10px;">
              <img src="<%= contactInfo.company_logo %>" alt="Company Logo" style="max-width: 200px; max-height: 100px; border: 1px solid #ddd; padding: 5px;">
            </div>
            <% } %>
            <input type="file" name="company_logo" accept="image/*">
            <small>Upload a new logo image (JPEG, PNG, GIF)</small>
          </div>
          
          <div class="form-group">
            <label>Background Image</label>
            <% if (contactInfo && contactInfo.background_image) { %>
            <div style="margin-bottom: 10px;">
              <img src="<%= contactInfo.background_image %>" alt="Background Image" style="max-width: 300px; max-height: 150px; border: 1px solid #ddd; padding: 5px;">
            </div>
            <% } %>
            <input type="file" name="background_image" accept="image/*">
            <small>Upload a background image for the website (JPEG, PNG, GIF)</small>
          </div>
          
          <div class="form-group">
            <label>Phone</label>
            <input type="text" name="phone" value="<%= contactInfo ? contactInfo.phone || '' : '' %>">
          </div>
          
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="<%= contactInfo ? contactInfo.email || '' : '' %>">
          </div>
          
          <div class="form-group">
            <label>Address</label>
            <textarea name="address" rows="3"><%= contactInfo ? contactInfo.address || '' : '' %></textarea>
          </div>
          
          <div class="form-group">
            <label>Location</label>
            <input type="text" name="location" value="<%= contactInfo ? contactInfo.location || '' : '' %>">
          </div>
          
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
    </main>
  </div>
</body>
</html>
