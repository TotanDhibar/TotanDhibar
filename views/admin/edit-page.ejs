<%- include('layout', {
    title: title,
    body: `
    <!-- EDIT HERE: Back Button -->
    <div class="row mb-3">
        <div class="col-12">
            <a href="/admin/pages" class="btn btn-secondary">
                <i class="fas fa-arrow-left mr-1"></i> Back to Pages
            </a>
        </div>
    </div>
    
    <!-- EDIT HERE: Alerts Section -->
    ${success ? '<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert">&times;</button><i class="icon fas fa-check"></i> Page updated successfully!</div>' : ''}
    ${errors && errors.length > 0 ? '<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert">&times;</button><i class="icon fas fa-ban"></i><ul class="mb-0">' + errors.map(e => '<li>' + e.msg + '</li>').join('') + '</ul></div>' : ''}
    
    <!-- EDIT HERE: Page Edit Form Card -->
    <div class="card card-primary">
        <div class="card-header">
            <h3 class="card-title"><i class="fas fa-file-alt mr-1"></i> Edit: ${page.page_name.charAt(0).toUpperCase() + page.page_name.slice(1)} Page</h3>
        </div>
        <form method="POST">
            <div class="card-body">
                <div class="form-group">
                    <label for="title"><i class="fas fa-heading mr-1"></i> Page Title <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="title" name="title" value="${page.title}" required>
                </div>
                
                <div class="form-group">
                    <label for="content"><i class="fas fa-code mr-1"></i> Content <span class="text-danger">*</span> <span class="badge badge-info">HTML allowed</span></label>
                    <textarea class="form-control" id="content" name="content" rows="15" required>${page.content}</textarea>
                    <small class="text-muted">You can use HTML tags for formatting (headings, paragraphs, lists, etc.)</small>
                </div>
                
                <div class="form-group">
                    <label for="meta_description"><i class="fas fa-search mr-1"></i> Meta Description (SEO)</label>
                    <textarea class="form-control" id="meta_description" name="meta_description" rows="3" placeholder="Brief description for search engines (max 160 characters)">${page.meta_description || ''}</textarea>
                    <small class="text-muted">This description appears in search engine results. Keep it under 160 characters.</small>
                </div>
            </div>
            <div class="card-footer">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save mr-1"></i> Save Changes
                </button>
                <a href="/admin/pages" class="btn btn-secondary">
                    <i class="fas fa-times mr-1"></i> Cancel
                </a>
                <a href="/${page.page_name === 'home' ? '' : page.page_name}" target="_blank" class="btn btn-info float-right">
                    <i class="fas fa-eye mr-1"></i> Preview Page
                </a>
            </div>
        </form>
    </div>
    `
}) %>
